import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/contexts/auth-context.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=e7284969"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
var _s = $RefreshSig$(), _s2 = $RefreshSig$();
import __vite__cjsImport1_react from "/node_modules/.vite/deps/react.js?v=e7284969"; const createContext = __vite__cjsImport1_react["createContext"]; const useState = __vite__cjsImport1_react["useState"]; const useEffect = __vite__cjsImport1_react["useEffect"]; const useContext = __vite__cjsImport1_react["useContext"];
import api from "/src/services/api.ts";
const AuthContext = createContext({});
export const AuthProvider = ({ children }) => {
  _s();
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  useEffect(() => {
    async function checkLogin() {
      try {
        const response = await api.get("/auth/me");
        setUser(response.data);
      } catch (error2) {
        setUser(null);
      } finally {
        setLoading(false);
      }
    }
    checkLogin();
  }, []);
  const login = async (username, password) => {
    try {
      setError(null);
      await api.post("/auth/login", {
        username,
        password
      });
      const response = await api.get("/auth/me");
      setUser(response.data.user);
    } catch (err) {
      const errorMsg = err.response?.data?.message || err.response?.data?.error;
      setError(errorMsg);
      throw err;
    }
  };
  const register = async (username, password) => {
    try {
      setError(null);
      await api.post("/auth/register", {
        username,
        password
      });
    } catch (err) {
      const errorMsg = err.response?.data?.message || err.response?.data?.error || "Erro ao registrar";
      setError(errorMsg);
      throw err;
    }
  };
  const logout = async () => {
    await api.post("/auth/logout");
    setUser(null);
    window.location.href = "/login";
  };
  return /* @__PURE__ */ jsxDEV(
    AuthContext.Provider,
    {
      value: {
        user,
        loading,
        authenticated: !!user,
        login,
        register,
        logout,
        error
      },
      children
    },
    void 0,
    false,
    {
      fileName: "/home/heric/Documentos/weather-report/weather-report/src/contexts/auth-context.tsx",
      lineNumber: 80,
      columnNumber: 5
    },
    this
  );
};
_s(AuthProvider, "PA9FxEY9xSNRrsSqaLtbYei52Hs=");
_c = AuthProvider;
export const useAuth = () => {
  _s2();
  return useContext(AuthContext);
};
_s2(useAuth, "gDsCjeeItUuvgOWf1v4qoK9RF6k=");
var _c;
$RefreshReg$(_c, "AuthProvider");
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("/home/heric/Documentos/weather-report/weather-report/src/contexts/auth-context.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("/home/heric/Documentos/weather-report/weather-report/src/contexts/auth-context.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}
function $RefreshReg$(type, id) {
  return RefreshRuntime.register(type, "/home/heric/Documentos/weather-report/weather-report/src/contexts/auth-context.tsx " + id);
}
function $RefreshSig$() {
  return RefreshRuntime.createSignatureFunctionForTransform();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6IkFBK0VJOztBQS9FSixTQUFTQSxlQUFlQyxVQUFVQyxXQUFXQyxrQkFBa0I7QUFDL0QsT0FBT0MsU0FBUztBQWlCaEIsTUFBTUMsY0FBY0wsY0FBNEIsQ0FBQyxDQUFpQjtBQUUzRCxhQUFNTSxlQUFlQSxDQUFDLEVBQUVDLFNBQXdDLE1BQU07QUFBQUMsS0FBQTtBQUMzRSxRQUFNLENBQUNDLE1BQU1DLE9BQU8sSUFBSVQsU0FBdUIsSUFBSTtBQUNuRCxRQUFNLENBQUNVLFNBQVNDLFVBQVUsSUFBSVgsU0FBUyxJQUFJO0FBQzNDLFFBQU0sQ0FBQ1ksT0FBT0MsUUFBUSxJQUFJYixTQUF3QixJQUFJO0FBRXREQyxZQUFVLE1BQU07QUFDZCxtQkFBZWEsYUFBYTtBQUMxQixVQUFJO0FBQ0YsY0FBTUMsV0FBVyxNQUFNWixJQUFJYSxJQUFJLFVBQVU7QUFDekNQLGdCQUFRTSxTQUFTRSxJQUFJO0FBQUEsTUFDdkIsU0FBU0wsUUFBTztBQUNkSCxnQkFBUSxJQUFJO0FBQUEsTUFDZCxVQUFDO0FBQ0NFLG1CQUFXLEtBQUs7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFDQUcsZUFBVztBQUFBLEVBQ2IsR0FBRyxFQUFFO0FBRUwsUUFBTUksUUFBUSxPQUFPQyxVQUFrQkMsYUFBcUI7QUFDMUQsUUFBSTtBQUNGUCxlQUFTLElBQUk7QUFDYixZQUFNVixJQUFJa0IsS0FBSyxlQUFlO0FBQUEsUUFDNUJGO0FBQUFBLFFBQ0FDO0FBQUFBLE1BQ0YsQ0FBQztBQUNELFlBQU1MLFdBQVcsTUFBTVosSUFBSWEsSUFBSSxVQUFVO0FBQ3pDUCxjQUFRTSxTQUFTRSxLQUFLVCxJQUFJO0FBQUEsSUFDNUIsU0FBU2MsS0FBVTtBQUNqQixZQUFNQyxXQUFXRCxJQUFJUCxVQUFVRSxNQUFNTyxXQUFXRixJQUFJUCxVQUFVRSxNQUFNTDtBQUNwRUMsZUFBU1UsUUFBUTtBQUNqQixZQUFNRDtBQUFBQSxJQUNSO0FBQUEsRUFDRjtBQUVBLFFBQU1HLFdBQVcsT0FBT04sVUFBa0JDLGFBQXFCO0FBQzdELFFBQUk7QUFDRlAsZUFBUyxJQUFJO0FBQ2IsWUFBTVYsSUFBSWtCLEtBQUssa0JBQWtCO0FBQUEsUUFDL0JGO0FBQUFBLFFBQ0FDO0FBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0gsU0FBU0UsS0FBVTtBQUNqQixZQUFNQyxXQUNKRCxJQUFJUCxVQUFVRSxNQUFNTyxXQUNwQkYsSUFBSVAsVUFBVUUsTUFBTUwsU0FDcEI7QUFDRkMsZUFBU1UsUUFBUTtBQUNqQixZQUFNRDtBQUFBQSxJQUNSO0FBQUEsRUFDRjtBQUVBLFFBQU1JLFNBQVMsWUFBWTtBQUN6QixVQUFNdkIsSUFBSWtCLEtBQUssY0FBYztBQUM3QlosWUFBUSxJQUFJO0FBQ1prQixXQUFPQyxTQUFTQyxPQUFPO0FBQUEsRUFDekI7QUFFQSxTQUNFO0FBQUEsSUFBQyxZQUFZO0FBQUEsSUFBWjtBQUFBLE1BQ0MsT0FBTztBQUFBLFFBQ0xyQjtBQUFBQSxRQUNBRTtBQUFBQSxRQUNBb0IsZUFBZSxDQUFDLENBQUN0QjtBQUFBQSxRQUNqQlU7QUFBQUEsUUFDQU87QUFBQUEsUUFDQUM7QUFBQUEsUUFDQWQ7QUFBQUEsTUFDRjtBQUFBLE1BRUNOO0FBQUFBO0FBQUFBLElBWEg7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBWUE7QUFFSjtBQUFFQyxHQXpFV0YsY0FBWTtBQUFBMEIsS0FBWjFCO0FBMkVOLGFBQU0yQixVQUFVQSxNQUFBO0FBQUFDLE1BQUE7QUFBQSxTQUFNL0IsV0FBV0UsV0FBVztBQUFDO0FBQUM2QixJQUF4Q0QsU0FBTztBQUFBLElBQUFEO0FBQUFHLGFBQUFILElBQUEiLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDb250ZXh0IiwiYXBpIiwiQXV0aENvbnRleHQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsIl9zIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJjaGVja0xvZ2luIiwicmVzcG9uc2UiLCJnZXQiLCJkYXRhIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicG9zdCIsImVyciIsImVycm9yTXNnIiwibWVzc2FnZSIsInJlZ2lzdGVyIiwibG9nb3V0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiYXV0aGVudGljYXRlZCIsIl9jIiwidXNlQXV0aCIsIl9zMiIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJhdXRoLWNvbnRleHQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgYXBpIGZyb20gJy4uL3NlcnZpY2VzL2FwaSc7XG5cbmludGVyZmFjZSBJVXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBJQXV0aENvbnRleHQge1xuICB1c2VyOiBJVXNlciB8IG51bGw7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIGxvZ2luOiAodXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVnaXN0ZXI6ICh1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2dvdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufVxuXG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8SUF1dGhDb250ZXh0Pih7fSBhcyBJQXV0aENvbnRleHQpO1xuXG5leHBvcnQgY29uc3QgQXV0aFByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8SVVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBjaGVja0xvZ2luKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KCcvYXV0aC9tZScpO1xuICAgICAgICBzZXRVc2VyKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBjaGVja0xvZ2luKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBsb2dpbiA9IGFzeW5jICh1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgYXdhaXQgYXBpLnBvc3QoJy9hdXRoL2xvZ2luJywge1xuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL2F1dGgvbWUnKTtcbiAgICAgIHNldFVzZXIocmVzcG9uc2UuZGF0YS51c2VyKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSBlcnIucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgZXJyLnJlc3BvbnNlPy5kYXRhPy5lcnJvcjtcbiAgICAgIHNldEVycm9yKGVycm9yTXNnKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAodXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIGF3YWl0IGFwaS5wb3N0KCcvYXV0aC9yZWdpc3RlcicsIHtcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID1cbiAgICAgICAgZXJyLnJlc3BvbnNlPy5kYXRhPy5tZXNzYWdlIHx8XG4gICAgICAgIGVyci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHxcbiAgICAgICAgJ0Vycm8gYW8gcmVnaXN0cmFyJztcbiAgICAgIHNldEVycm9yKGVycm9yTXNnKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5wb3N0KCcvYXV0aC9sb2dvdXQnKTtcbiAgICBzZXRVc2VyKG51bGwpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHVzZXIsXG4gICAgICAgIGxvYWRpbmcsXG4gICAgICAgIGF1dGhlbnRpY2F0ZWQ6ICEhdXNlcixcbiAgICAgICAgbG9naW4sXG4gICAgICAgIHJlZ2lzdGVyLFxuICAgICAgICBsb2dvdXQsXG4gICAgICAgIGVycm9yLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4iXSwiZmlsZSI6Ii9ob21lL2hlcmljL0RvY3VtZW50b3Mvd2VhdGhlci1yZXBvcnQvd2VhdGhlci1yZXBvcnQvc3JjL2NvbnRleHRzL2F1dGgtY29udGV4dC50c3gifQ==éŸ!‡^÷      i]Ä‡i]Ä‡IÊ€       j    O^partitionKey=%28http%2Clocalhost%29,:http://localhost:5173/src/contexts/auth-context.tsx?t=1767752839947 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Vary: Origin
Content-Type: text/javascript
Cache-Control: no-cache
Etag: W/"f91-Ic6sw+BaMUrDmSgiuyJc7xflYlM"
Date: Wed, 07 Jan 2026 02:27:19 GMT
Content-Length: 10104
 original-response-headers Vary: Origin
Content-Type: text/javascript
Cache-Control: no-cache
Etag: W/"f91-Ic6sw+BaMUrDmSgiuyJc7xflYlM"
Date: Wed, 07 Jan 2026 02:27:19 GMT
Connection: keep-alive
Keep-Alive: timeout=5
Content-Length: 10104
 ctid 2 net-response-time-onstart 44 net-response-time-onstop 44   'x